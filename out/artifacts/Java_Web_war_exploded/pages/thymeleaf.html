<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>测试thymeleaf</title>
    <script type="text/javascript" th:src="@{/js/thymeleaf.js}"></script>
    <link rel="stylesheet" th:href="@{/css/thymeleaf.css}">
</head>
<body>
<h1>用户管理平台</h1>
<form th:action="search.do" method="post">
    请输入查询用户名：<input type="text" name="keyname">
    <input type="submit" value="查询">
</form>
<table id="test_table">
    <tr>
        <th>编号</th>
        <th>姓名</th>
        <th>密码</th>
        <th>email</th>
        <th>操作</th>
    </tr>

    <a th:href="@{/pages/register.html}"><input type="button" value="注册/添加用户"></input></a>

    <tr th:if="${#lists.isEmpty(session.allUser)}">
        <td colspan="5">没有用户</td>
    </tr>

    <tr th:unless="${#lists.isEmpty(session.allUser)}" th:each="user : ${session.allUser}">
        <td th:text="${user.getId()}"></td>
        <!--<td><a th:text="${user.getUsername()}" th:href="@{'/edit.do?uid='+${user.getId()}}"></a></td> -->
        <td><a th:text="${user.getUsername()}" th:href="@{/edit.do(uid=${user.getId()})}"></a></td>
        <td th:text="${user.getPwd()}"></td>
        <td th:text="${user.getEmail()}"></td>
        <!-- <td><button th:onclick="'delete('+${user.getId()}+')'">删除</button></td> -->
        <!-- 竖线中间碰到$会自动识别thymeleaf表达式 然后拼接字符串 -->
        <td><button th:onclick="|deleteUser(${user.getId()})|">删除</button></td>
    </tr>
</table>
<div>
    <input type="button" value="首  页" th:onclick="|page(1)|" th:disabled="${session.pageNo==1}">
    <input type="button" value="上一页" th:onclick="|page(${session.pageNo-1})|" th:disabled="${session.pageNo==1}">
    <input type="button" value="下一页" th:onclick="|page(${session.pageNo+1})|" th:disabled="${session.pageNo==session.pageCount}">
    <input type="button" value="尾  页" th:onclick="|page(${session.pageCount})|" th:disabled="${session.pageNo==session.pageCount}">
</div>

</body>
</html>